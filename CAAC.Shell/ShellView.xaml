<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:Regions="http://www.codeplex.com/prism" xmlns:vm="clr-namespace:CAAC.Shell"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions" x:Class="CAAC.Shell.ShellView"
        xmlns:System="clr-namespace:System;assembly=mscorlib" mc:Ignorable="d" d:DesignHeight="600" d:DesignWidth="800"
        d:DataContext="{d:DesignInstance vm:ShellViewModel}" TextOptions.TextFormattingMode="Display" Width="Auto"
        Height="Auto">

    <UserControl.Resources>
        <Style x:Key="FuncButtonStyle" TargetType="telerik:RadDropDownButton">
            <Setter Property="IsOpen" Value="false" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource ControlOuterBorder_Normal}" />
            <Setter Property="Background" Value="{StaticResource ControlBackground_Normal}" />
            <Setter Property="Foreground" Value="{StaticResource ControlForeground_Normal}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="3" />
            <Setter Property="CornerRadius" Value="{StaticResource ControlOuterBorder_CornerRadius}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="telerik:RadDropDownButton">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver" />
                                    <VisualState x:Name="Pressed" />
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="0.37" Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="Content" />
                                            <DoubleAnimation Duration="0" To="0.37" Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="DropDownIndicator" />
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="BackgroundVisibility">
                                    <VisualState x:Name="BackgroundHidden">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="OuterBorder" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="BackgroundVisible" />
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="IsOpenState">
                                    <VisualState x:Name="Closed" />
                                    <VisualState x:Name="Opened">
                                        <!--<Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="CheckedVisual" />
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetProperty="Fill"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{StaticResource ControlElement_Active}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>-->
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="DropDownButtonPosition">
                                    <VisualState x:Name="DropDownButtonAtLeft">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Column)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>0</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Row)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>1</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="DropDownButtonAtTop">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Column)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>1</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Row)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>0</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="DropDownButtonAtRight">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Column)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>2</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Row)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>1</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="DropDownButtonAtBottom">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Column)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>1</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="(Grid.Row)"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <System:Int32>2</System:Int32>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="PopupPlacementState">
                                    <VisualState x:Name="PlacementBottom" />
                                    <VisualState x:Name="PlacementTop">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="RenderTransform"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <TransformGroup>
                                                            <RotateTransform Angle="180" />
                                                        </TransformGroup>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="PlacementLeft">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="RenderTransform"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <TransformGroup>
                                                            <RotateTransform Angle="90" />
                                                        </TransformGroup>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="PlacementRight">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
                                                    Storyboard.TargetProperty="RenderTransform"
                                                    Storyboard.TargetName="DropDownIndicator">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <TransformGroup>
                                                            <RotateTransform Angle="-90" />
                                                        </TransformGroup>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStatesGroup">
                                    <VisualState x:Name="Unfocused">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility"
                                                    Storyboard.TargetName="FocusVisual">
                                                <DiscreteObjectKeyFrame KeyTime="00:00:00.150">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="FocusVisual">
                                                <LinearDoubleKeyFrame KeyTime="00:00:00.150" Value="0" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility"
                                                    Storyboard.TargetName="FocusVisual">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity"
                                                    Storyboard.TargetName="FocusVisual">
                                                <LinearDoubleKeyFrame KeyTime="00:00:00.115" Value="1" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="OuterBorder" BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                                <Grid>
                                    <Border BorderBrush="Transparent"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            Background="{TemplateBinding Background}"
                                            CornerRadius="{TemplateBinding InnerCornerRadius}" />
                                    <Border x:Name="InnerBorder" BorderBrush="Transparent"
                                            BorderThickness="{TemplateBinding BorderThickness}" Background="Transparent"
                                            CornerRadius="{TemplateBinding InnerCornerRadius}" />
                                </Grid>
                            </Border>
                            <Border x:Name="CheckedVisual" BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}" Opacity="0">
                                <Border x:Name="InnerCheckedVisual"
                                        BorderBrush="{StaticResource ControlInnerBorder_Checked}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="{TemplateBinding InnerCornerRadius}" />
                            </Border>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <ContentPresenter x:Name="Content" ContentTemplate="{TemplateBinding ContentTemplate}"
                                        Content="{TemplateBinding Content}" Grid.Column="1"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        Margin="{TemplateBinding Padding}" Grid.Row="1"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                                <Path x:Name="DropDownIndicator" Grid.Column="1"
                                        Data="M0,2.6822099E-07 L2,2.6822099E-07 L2,2 L4,2 L4,4 L2,4 L2,2 L0,2 z M4,0 L6,0 L6,2 L4,2 z"
                                        Fill="#FF25ABF4" HorizontalAlignment="Center" IsHitTestVisible="False"
                                        Margin="5,3,5,3" Grid.Row="2" RenderTransformOrigin="0.5,0.5"
                                        Visibility="{TemplateBinding DropDownIndicatorVisibility}"
                                        VerticalAlignment="Center" />
                            </Grid>
                            <Popup x:Name="DropDownPopup">
                                <Grid>
                                    <Border x:Name="DropDownPopupBorder"
                                            BorderBrush="{StaticResource ControlBackground}" BorderThickness="1"
                                            Background="{StaticResource FuncItemBackground}" CornerRadius="0"
                                            Height="{TemplateBinding DropDownHeight}"
                                            MaxWidth="{TemplateBinding DropDownMaxWidth}"
                                            MaxHeight="{TemplateBinding DropDownMaxHeight}" MinWidth="3" MinHeight="3"
                                            Width="{TemplateBinding DropDownWidth}">
                                        <Border.Effect>
                                            <DropShadowEffect ShadowDepth="1" Opacity="0.4" BlurRadius="6" />
                                        </Border.Effect>
                                        <ContentControl x:Name="DropDownPopupContent"
                                                ContentTemplate="{TemplateBinding DropDownContentTemplate}"
                                                Content="{TemplateBinding DropDownContent}"
                                                DataContext="{Binding DataContext, RelativeSource={RelativeSource TemplatedParent}}"
                                                HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                                                VerticalAlignment="Stretch" VerticalContentAlignment="Stretch" />
                                    </Border>
                                </Grid>
                            </Popup>
                            <Border x:Name="CommonStatesWrapper">
                                <Border x:Name="FocusVisual" BorderBrush="{x:Null}" BorderThickness="1"
                                        Background="{StaticResource ControlBackground_Focused}"
                                        CornerRadius="{TemplateBinding CornerRadius}" Opacity="0" Visibility="Collapsed">
                                    <Border x:Name="FocusInnerVisual"
                                            BorderBrush="{StaticResource ControlInnerBorder_Focused}"
                                            BorderThickness="1" CornerRadius="{TemplateBinding InnerCornerRadius}" />
                                </Border>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="ItemButtonTemplate" TargetType="telerik:RadButton">
            <Grid Background="Transparent">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Disabled">
                            <Storyboard>
                                <ColorAnimation Duration="0" To="Silver"
                                        Storyboard.TargetProperty="(Control.Foreground).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="Content" d:IsOptimized="True" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ColorAnimation Duration="0" To="#FFF5F560"
                                        Storyboard.TargetProperty="(Control.Foreground).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="Content" d:IsOptimized="True" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Pressed" />
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualState x:Name="Unfocused" />
                        <VisualState x:Name="Focused" />
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <StackPanel Orientation="Horizontal">
                    <ContentControl x:Name="Content" ContentTemplate="{TemplateBinding ContentTemplate}"
                            Content="{TemplateBinding Content}" Margin="{TemplateBinding Padding}"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Foreground="White" />
                </StackPanel>
            </Grid>
        </ControlTemplate>
        <Style x:Key="ItemButtonStyle" TargetType="telerik:RadButton">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Background" Value="{x:Null}" />
            <Setter Property="FontSize" Value="{StaticResource TextFontSize}" />
            <Setter Property="FontFamily" Value="{StaticResource NormalFontFamily}" />
            <Setter Property="TextOptions.TextFormattingMode" Value="Display" />
            <Setter Property="Height" Value="20" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Padding" Value="3,0,0,0" />
            <Setter Property="Template" Value="{StaticResource ItemButtonTemplate}" />
        </Style>
        <ControlTemplate x:Key="BreadcrumbButtonTemplate" TargetType="telerik:RadButton">
            <Grid>
                <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Left" />
            </Grid>
        </ControlTemplate>
        <Style x:Key="BreadcrumbButtonStyle" TargetType="telerik:RadButton">
            <Setter Property="Template" Value="{StaticResource BreadcrumbButtonTemplate}" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>

        <ControlTemplate x:Key="BtnMinimize" TargetType="Button">
            <Grid x:Name="grid" Background="Transparent" Width="30">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Pressed" />
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background)"
                                        Storyboard.TargetName="grid">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                <GradientStop Color="#FF1A3CD6" Offset="0" />
                                                <GradientStop Color="#FF607BF3" Offset="0.8" />
                                            </LinearGradientBrush>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                                <ColorAnimation Duration="0" To="White"
                                        Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="border" d:IsOptimized="True" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Disabled" />
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates" />
                </VisualStateManager.VisualStateGroups>
                <Border x:Name="border" BorderThickness="0" HorizontalAlignment="Center" Height="3"
                        VerticalAlignment="Bottom" Width="9" Margin="0,0,0,6" Background="#FF404040" />
                <ContentPresenter x:Name="contentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}"
                        Content="{TemplateBinding Content}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="4,3,4,4"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
            </Grid>
        </ControlTemplate>
        <ControlTemplate x:Key="BtnClose" TargetType="Button">
            <Grid x:Name="grid" Background="#FFE46464" Width="51">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Pressed" />
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ColorAnimation Duration="0" To="#FFE44040"
                                        Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="grid" d:IsOptimized="True" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Disabled" />
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates" />
                </VisualStateManager.VisualStateGroups>
                <TextBlock Text="ⅹ" FontFamily="Courier New" FontSize="20" Foreground="White" Margin="0,0,0,1"
                        HorizontalAlignment="Center" VerticalAlignment="Bottom" />
            </Grid>
        </ControlTemplate>
        <ControlTemplate x:Key="BtnMaximize" TargetType="Button">
            <Grid x:Name="grid" Width="30" Background="Transparent" Margin="0">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates1">
                        <VisualState x:Name="Pressed1" />
                        <VisualState x:Name="MouseOver1" />
                        <VisualState x:Name="Normal1" />
                        <VisualState x:Name="Disabled1" />
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates1" />
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Pressed" />
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background)"
                                        Storyboard.TargetName="grid">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                <GradientStop Color="#FF1A3CD6" Offset="0" />
                                                <GradientStop Color="#FF607BF3" Offset="0.8" />
                                            </LinearGradientBrush>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                                <ColorAnimation Duration="0" To="White"
                                        Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="border" d:IsOptimized="True" />
                                <ColorAnimation Duration="0" To="White"
                                        Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="border1" d:IsOptimized="True" />
                                <ColorAnimation Duration="0" To="White"
                                        Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                        Storyboard.TargetName="border2" d:IsOptimized="True" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Disabled" />
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates" />
                </VisualStateManager.VisualStateGroups>
                <Grid Visibility="{Binding IsMaximize, Converter={StaticResource BoolToVisibilityConverter}}">
                    <Border x:Name="border" BorderBrush="#FF404040" BorderThickness="0,1,1,0"
                            HorizontalAlignment="Center" Height="8" VerticalAlignment="Bottom" Width="8"
                            Margin="2,0,0,8" />
                    <Border x:Name="border1" BorderBrush="#FF404040" BorderThickness="1,2,1,1"
                            HorizontalAlignment="Center" Height="8" VerticalAlignment="Bottom" Width="8"
                            Margin="0,0,2,6" />
                </Grid>
                <Grid
                        Visibility="{Binding IsMaximize, ConverterParameter=Inverse, Converter={StaticResource BoolToVisibilityConverter}}">
                    <Border x:Name="border2" BorderBrush="#FF404040" BorderThickness="1,2,1,1"
                            HorizontalAlignment="Center" Height="8" VerticalAlignment="Bottom" Width="10"
                            Margin="0,0,0,6" />
                </Grid>
                <ContentPresenter x:Name="contentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}"
                        Content="{TemplateBinding Content}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        Margin="{TemplateBinding Padding}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
            </Grid>
        </ControlTemplate>

        <DataTemplate x:Key="AppItemTemplate">
            <telerik:RadButton Content="{Binding Description}" Style="{StaticResource ItemButtonStyle}"
                    HorizontalAlignment="Center" Command="{Binding DataContext.SetAppCommand, ElementName=LayoutRoot}"
                    CommandParameter="{Binding}" IsEnabled="{Binding IsValid}" Margin="0,5,0,0" />
        </DataTemplate>
        <DataTemplate x:Key="FuncItemTemplate">
            <telerik:RadButton Content="{Binding Name}" Style="{StaticResource ItemButtonStyle}" Margin="7,0,0,0"
                    HorizontalAlignment="Left" Command="{Binding DataContext.NavigateCommand, ElementName=LayoutRoot}"
                    CommandParameter="{Binding}" IsEnabled="{Binding IsValid}" />
        </DataTemplate>
        <DataTemplate x:Key="DropFuncItemTemplate">
            <StackPanel Margin="12,12,20,12">
                <TextBlock Text="{Binding Name}" FontSize="{StaticResource HeaderFontSize}"
                        TextOptions.TextFormattingMode="Display" Margin="0,0,0,5"
                        Foreground="{StaticResource FuncHeaderForeground}" />
                <ItemsControl ItemsSource="{Binding SubItems}" ItemTemplate="{StaticResource FuncItemTemplate}" />
            </StackPanel>
        </DataTemplate>

        <Storyboard x:Key="GotoSuccess" FillBehavior="Stop">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="msgFrame">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="success">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames
                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                    Storyboard.TargetName="msgFrame">
                <EasingDoubleKeyFrame KeyTime="0:0:2" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:3" Value="-70" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="GotoFail" FillBehavior="Stop">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="msgFrame">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="fail">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames
                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                    Storyboard.TargetName="msgFrame">
                <EasingDoubleKeyFrame KeyTime="0:0:2" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:3" Value="-70" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="GotoInfo" FillBehavior="Stop">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="msgFrame">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                    Storyboard.TargetName="info">
                <DiscreteObjectKeyFrame KeyTime="0">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames
                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                    Storyboard.TargetName="msgFrame">
                <EasingDoubleKeyFrame KeyTime="0:0:2" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:3" Value="-70" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </UserControl.Resources>
    <UserControl.FontSize>
        <StaticResource ResourceKey="TextFontSize" />
    </UserControl.FontSize>
    <UserControl.FontFamily>
        <StaticResource ResourceKey="NormalFontFamily" />
    </UserControl.FontFamily>

    <Grid x:Name="LayoutRoot">
        <i:Interaction.Triggers>
            <i:EventTrigger EventName="MouseRightButtonDown">
                <ei:CallMethodAction MethodName="MouseRightButtonDown" TargetObject="{Binding}" />
            </i:EventTrigger>
            <ei:DataTrigger Binding="{Binding MessageType}" Value="1">
                <ei:ControlStoryboardAction x:Name="gotoSuccess" Storyboard="{StaticResource GotoSuccess}" />
            </ei:DataTrigger>
            <ei:DataTrigger Binding="{Binding MessageType}" Value="2">
                <ei:ControlStoryboardAction x:Name="gotoFail" Storyboard="{StaticResource GotoFail}" />
            </ei:DataTrigger>
            <ei:DataTrigger Binding="{Binding MessageType}" Value="3">
                <ei:ControlStoryboardAction x:Name="gotoInfo" Storyboard="{StaticResource GotoInfo}" />
            </ei:DataTrigger>
        </i:Interaction.Triggers>
        <Grid.RowDefinitions>
            <RowDefinition Height="24" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Canvas Background="WhiteSmoke" Grid.ColumnSpan="3" Grid.RowSpan="2" />
        <ContentControl Regions:RegionManager.RegionName="MainRegion" x:Name="MainContent"
                HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Margin="0" Grid.Row="1"
                Grid.ColumnSpan="3" />
        <Border x:Name="msgFrame" BorderThickness="1" HorizontalAlignment="Center" Height="48" Margin="0"
                VerticalAlignment="Top" CornerRadius="0,0,5,5" Background="White" RenderTransformOrigin="0.5,0.5"
                Visibility="Collapsed" Grid.Row="1" MaxWidth="600" MinWidth="400" Grid.ColumnSpan="3">
            <Border.RenderTransform>
                <CompositeTransform />
            </Border.RenderTransform>
            <Border.Effect>
                <DropShadowEffect ShadowDepth="3" Color="Gray" />
            </Border.Effect>
            <Grid Height="49" VerticalAlignment="Center" Margin="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Image x:Name="success" Source="/CAAC.Shell;component/Images/Success.png" Height="50"
                        Visibility="Collapsed" HorizontalAlignment="Left" Margin="0"
                        d:LayoutOverrides="VerticalAlignment" />
                <Image x:Name="fail" Source="/CAAC.Shell;component/Images/Fail.png" Height="50"
                        Visibility="Collapsed" HorizontalAlignment="Left" Margin="0"
                        d:LayoutOverrides="VerticalAlignment" />
                <Image x:Name="info" Height="50" Source="/CAAC.Shell;component/Images/Info.png"
                        Visibility="Collapsed" HorizontalAlignment="Left" Margin="0"
                        d:LayoutOverrides="VerticalAlignment" />
                <TextBlock x:Name="msg" TextWrapping="Wrap" Text="{Binding OprationMsg}" VerticalAlignment="Center"
                        Grid.Column="1" Margin="0,0,0,7" />
            </Grid>
        </Border>
        <Grid Margin="0" Grid.ColumnSpan="3">
            <Border BorderThickness="0,0,0,1" Background="White" Margin="0"
                    BorderBrush="{StaticResource ControlOuterBorder}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseLeftButtonDown">
                        <ei:CallMethodAction TargetObject="{Binding}" MethodName="MoveWindow" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </Border>
            <Grid x:Name="MainToolGrid">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="120" />
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <telerik:RadButton x:Name="btnHome" Margin="13,0,4,0" Style="{StaticResource BreadcrumbButtonStyle}"
                            Command="{Binding HomeCommand}" VerticalAlignment="Center">
                        <Grid Background="#00FFFFFF">
                            <Path
                                    Data="M11.440582,3.9660034 L18.735001,9.5578079 L18.735001,18.813202 L13.465415,18.813202 L13.474515,13.149039 C13.474515,13.149039 9.4405298,13.149039 9.4405298,13.149039 L9.432169,18.828903 L4.1620026,18.838001 L4.1620026,9.5578079 z M11.514402,0 L22.822001,9.5100002 L20.189154,9.5100002 L11.514402,2.4784653 L2.5077338,9.3914757 L0,9.3914757 z"
                                    Stretch="Fill" UseLayoutRounding="False" HorizontalAlignment="Center" Height="16"
                                    VerticalAlignment="Center" Width="17">
                                <Path.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FF0096FF" Offset="1" />
                                        <GradientStop Color="#FF19A0EA" />
                                    </LinearGradientBrush>
                                </Path.Fill>
                            </Path>
                        </Grid>
                    </telerik:RadButton>
                    <Rectangle HorizontalAlignment="Left" Height="24" VerticalAlignment="Top" Width="20"
                            StrokeThickness="0" Margin="5,0">
                        <Rectangle.OpacityMask>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="Black" Offset="0.2" />
                                <GradientStop Color="Transparent" Offset="1" />
                                <GradientStop Color="#99545454" Offset="0.638" />
                            </LinearGradientBrush>
                        </Rectangle.OpacityMask>
                        <Rectangle.Fill>
                            <LinearGradientBrush EndPoint="1.071,0.346" StartPoint="0.285,0.742">
                                <GradientStop Color="#FFC6C6C6" Offset="0.241" />
                                <GradientStop Color="#4CFFFFFF" Offset="0.86" />
                                <GradientStop Color="Transparent" Offset="0.233" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <telerik:RadDropDownButton x:Name="ModuleList" Foreground="DimGray" Margin="3,0"
                            Background="{x:Null}" BorderThickness="0" Cursor="Hand"
                            Style="{StaticResource FuncButtonStyle}" IsOpen="{Binding IsAppDrop, Mode=TwoWay}"
                            VerticalAlignment="Center">
                        <telerik:RadDropDownButton.DropDownContent>
                            <ItemsControl ItemsSource="{Binding AppList}" Margin="16,11,17,17"
                                    ItemTemplate="{StaticResource AppItemTemplate}">
                            </ItemsControl>
                        </telerik:RadDropDownButton.DropDownContent>
                        <StackPanel HorizontalAlignment="Center" Height="18" VerticalAlignment="Center"
                                Orientation="Horizontal" Background="#00FFFFFF">
                            <Path
                                    Data="M14.917048,7 L17.416952,7 C18.107882,7 18.667,7.5590997 18.667,8.2499838 L18.667,10.750026 C18.667,11.439748 18.107882,12 17.416952,12 L14.917048,12 C14.226118,12 13.667,11.439748 13.667,10.750026 L13.667,8.2499838 C13.667,7.5590997 14.226118,7 14.917048,7 z M8.0834799,7 L10.583522,7 C11.274368,7 11.833496,7.5590997 11.833496,8.2499838 L11.833496,10.750026 C11.833496,11.439748 11.274368,12 10.583522,12 L8.0834799,12 C7.3932238,12 6.8334961,11.439748 6.8334961,10.750026 L6.8334961,8.2499838 C6.8334961,7.5590997 7.3932238,7 8.0834799,7 z M1.2499835,7 L3.7500162,7 C4.4402723,7 5,7.5590997 5,8.2499838 L5,10.750026 C5,11.439748 4.4402723,12 3.7500162,12 L1.2499835,12 C0.55979025,12 0,11.439748 0,10.750026 L0,8.2499838 C0,7.5590997 0.55979025,7 1.2499835,7 z M14.917048,2.8421709E-14 L17.416952,2.8421709E-14 C18.107882,-1.4820077E-07 18.667,0.55978382 18.667,1.2500256 L18.667,3.749974 C18.667,4.4397068 18.107882,5 17.416952,5 L14.917048,5 C14.226118,5 13.667,4.4397068 13.667,3.749974 L13.667,1.2500256 C13.667,0.55978382 14.226118,-1.4820077E-07 14.917048,2.8421709E-14 z M8.0834799,2.8421709E-14 L10.583522,2.8421709E-14 C11.274368,-1.4820077E-07 11.833496,0.55978382 11.833496,1.2500256 L11.833496,3.749974 C11.833496,4.4397068 11.274368,5 10.583522,5 L8.0834799,5 C7.3932238,5 6.8334961,4.4397068 6.8334961,3.749974 L6.8334961,1.2500256 C6.8334961,0.55978382 7.3932238,-1.4820077E-07 8.0834799,2.8421709E-14 z M1.2499835,2.8421709E-14 L3.7500162,2.8421709E-14 C4.4402723,-1.4820077E-07 5,0.55978382 5,1.2500256 L5,3.749974 C5,4.4397068 4.4402723,5 3.7500162,5 L1.2499835,5 C0.55979025,5 0,4.4397068 0,3.749974 L0,1.2500256 C0,0.55978382 0.55979025,-1.4820077E-07 1.2499835,2.8421709E-14 z"
                                    Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="16"
                                    Height="12" Margin="0,0,7,0">
                                <Path.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FF0096FF" Offset="1" />
                                        <GradientStop Color="#FF19A0EA" Offset="0.22" />
                                        <GradientStop Color="#FF188AC9" />
                                    </LinearGradientBrush>
                                </Path.Fill>
                            </Path>
                            <TextBlock VerticalAlignment="Center" Text="{Binding AppName}"
                                    Foreground="{StaticResource TextForeground_Dark}"
                                    FontSize="{StaticResource TitleFontSize}" />
                        </StackPanel>
                    </telerik:RadDropDownButton>
                    <Rectangle HorizontalAlignment="Left" Height="24" VerticalAlignment="Top" Width="20"
                            StrokeThickness="0" Margin="5,0,10,0">
                        <Rectangle.OpacityMask>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="Black" Offset="0.2" />
                                <GradientStop Color="Transparent" Offset="1" />
                                <GradientStop Color="#99545454" Offset="0.638" />
                            </LinearGradientBrush>
                        </Rectangle.OpacityMask>
                        <Rectangle.Fill>
                            <LinearGradientBrush EndPoint="0.871,0.603" StartPoint="0.127,0.208">
                                <GradientStop Color="#FFC6C6C6" Offset="0.664" />
                                <GradientStop Color="#4CFFFFFF" />
                                <GradientStop Color="Transparent" Offset="0.668" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <telerik:RadDropDownButton x:Name="FunctionList" Foreground="DimGray" Margin="3,0"
                            Background="{x:Null}" BorderThickness="0" Cursor="Hand"
                            Style="{StaticResource FuncButtonStyle}" IsOpen="{Binding IsFuncDrop, Mode=TwoWay}"
                            VerticalAlignment="Center" IsEnabled="{Binding IsFuncEnabled}">
                        <telerik:RadDropDownButton.DropDownContent>
                            <ItemsControl ItemsSource="{Binding FuncList}"
                                    ItemTemplate="{StaticResource DropFuncItemTemplate}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <telerik:RadWrapPanel Orientation="Vertical" MinHeight="120" MaxHeight="300"
                                                MinWidth="240" MaxWidth="980" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </telerik:RadDropDownButton.DropDownContent>
                        <StackPanel HorizontalAlignment="Center" Height="18" VerticalAlignment="Center"
                                Orientation="Horizontal" Background="#00FFFFFF">
                            <Path
                                    Data="M5.5,-276.2 L18.5,-276.2 L18.5,25.51 L18.88,25.78 C21.68,27.88 23.5,31.23 23.5,35 C23.5,41.35 18.35,46.5 12,46.5 C5.65,46.5 0.5,41.35 0.5,35 C0.5,31.23 2.32,27.88 5.12,25.78 L5.5,25.51 z"
                                    Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="16"
                                    Height="12" Margin="0,0,7,0">
                                <Path.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FF0096FF" Offset="1" />
                                        <GradientStop Color="#FF19A0EA" Offset="0.22" />
                                        <GradientStop Color="#FF188AC9" />
                                    </LinearGradientBrush>
                                </Path.Fill>
                            </Path>
                            <TextBlock VerticalAlignment="Center" Text="{Binding FuncName}"
                                    Foreground="{StaticResource TextForeground_Dark}"
                                    FontSize="{StaticResource TitleFontSize}" />
                        </StackPanel>
                    </telerik:RadDropDownButton>
                </StackPanel>
                <StackPanel x:Name="Wnd_Control" Orientation="Horizontal" Visibility="Visible" Grid.Column="6"
                        Height="24" VerticalAlignment="Top">
                    <Border BorderThickness="0" Margin="0">
                        <Button x:Name="btnMinimize" Command="{Binding MinimizeCommand}"
                                Template="{StaticResource BtnMinimize}" BorderThickness="0">
                        </Button>
                    </Border>
                    <Border BorderThickness="0" Margin="1,0,0,0">
                        <Button x:Name="btnMaximize" Command="{Binding MaxmizeCommand}"
                                Template="{StaticResource BtnMaximize}" BorderThickness="0" />
                    </Border>
                    <Border BorderThickness="0" Margin="1,0,0,0">
                        <Button x:Name="btnClose" Command="{Binding CloseWndCommand}"
                                Template="{StaticResource BtnClose}" BorderThickness="0" />
                    </Border>
                </StackPanel>
            </Grid>
        </Grid>

        <Grid x:Name="loginWindow" Grid.ColumnSpan="2" Grid.RowSpan="2" d:IsHidden="True"
                Visibility="{Binding IsLogined, ConverterParameter=Inverse, Converter={StaticResource BoolToVisibilityConverter}}">
            <Rectangle Stroke="Black" Margin="-1,-1,0,0" StrokeThickness="0">
                <Rectangle.Fill>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="White" Offset="0" />
                        <GradientStop Color="#FF202020" Offset="1" />
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>
            <Grid Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" Width="300" Height="200">
                <Grid.Effect>
                    <telerik:ReflectionEffect ReflectionHeight="0.25" ElementHeight="200" />
                </Grid.Effect>
                <Border BorderThickness="1" CornerRadius="2" BorderBrush="#14000000" Background="#14000000"
                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="-1" />
                <Border BorderThickness="1" CornerRadius="2.25" BorderBrush="#0F000000" Background="#0F000000"
                        HorizontalAlignment="Stretch" Margin="-2" VerticalAlignment="Stretch" />
                <Border BorderThickness="1" CornerRadius="2.5" BorderBrush="#0C000000" Background="#0C000000"
                        HorizontalAlignment="Stretch" Margin="-3" VerticalAlignment="Stretch" />
                <Border BorderThickness="1" CornerRadius="2.75" BorderBrush="#0A000000" Background="#0A000000"
                        HorizontalAlignment="Stretch" Margin="-4" VerticalAlignment="Stretch" />
                <Border BorderBrush="Black" BorderThickness="0" CornerRadius="2" Margin="0" Background="#FF59A5F1">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="154" />
                            <RowDefinition Height="46" />
                        </Grid.RowDefinitions>
                        <TextBlock Foreground="White" Text="{Binding VersionUpdateMessage}" Margin="6" FontSize="13" ></TextBlock>
                        <toolkit:DataForm x:Name="loginForm" Padding="30,7,30,0" Background="White"
                                CurrentItem="{Binding LogInfo}" HorizontalContentAlignment="Stretch" Margin="6,30,6,0"
                                IsEnabled="{Binding IsLoggingIn, Converter={StaticResource NotOperatorValueConverter}}"
                                AutoEdit="True" CommandButtonsVisibility="None" HeaderVisibility="Collapsed"
                                Style="{StaticResource LoginDataFormStyle}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="AutoGeneratingField">
                                    <ei:CallMethodAction TargetObject="{Binding}"
                                            MethodName="LoginForm_AutoGeneratingField" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ContentLoaded">
                                    <ei:CallMethodAction TargetObject="{Binding}" MethodName="LoginForm_ContentLoaded" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="KeyDown">
                                    <ei:CallMethodAction TargetObject="{Binding}" MethodName="LoginForm_KeyDown" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </toolkit:DataForm>
                        <StackPanel Orientation="Horizontal" Margin="0,10,20,10" HorizontalAlignment="Right"
                                Grid.Row="1">
                            <Button x:Name="loginButton"
                                    Content="{Binding Strings.OKButton, Source={StaticResource ApplicationResources}}"
                                    Style="{StaticResource RegisterLoginButtonStyle}" IsEnabled="{Binding LogInfo.CanLogIn}"
                                    Command="{Binding LoginOKCommand}"
                                    CommandParameter="{Binding ElementName=loginForm}" />
                            <Button x:Name="loginCancel"
                                    Content="{Binding Strings.CancelButton, Source={StaticResource ApplicationResources}}"
                                    Style="{StaticResource RegisterLoginButtonStyle}"
                                    Command="{Binding LoginCancelCommand}" />
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Grid>

    </Grid>
</UserControl>
